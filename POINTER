B√†i 03 : Advanced Pointers
üî∞ Function pointers
üî∞ Void pointers
üî∞ NULL pointers
üî∞ Pointer to pointer
üî∞ Const pointer
üî∞ Size of pointer
1.POINTER
Con tr·ªè c√≥ th·ªÉ ch·ª©a ƒë·ªãa ch·ªâ c·ªßa bi·∫øn, m·∫£ng, h√†m.
T·∫°i sao d√πng con tr·ªè : 
-	Con tr·ªè c√≥ th·ªÉ tr·ªè ƒë·∫øn t·ª´ng bit trong b·ªô nh·ªõ, t·ª´ng ph·∫ßn t·ª≠ trong chu·ªói k√≠ t·ª±, m·∫£ng, m·∫£ng h√†m.
-	C√°c ph·∫ßn t·ª≠ c√≥ ƒë·ªãa ch·ªâ tang d·∫ßn theo th·ª© t·ª± ptr, ptr+1,..ptr+n. t√™n con tr·ªè lu√¥n l∆∞u ƒë·ªãa ch·ªâ ph·∫ßn t·ª≠ ƒë·∫ßu ti√™n. B·ªüi v·∫≠y d√πng v√≤ng l·∫∑p for ho·∫∑c while r·∫•t d·ªÖ truy xu·∫•t.
 
 
K√≠ch th∆∞·ªõc con tr·ªè: ph·ª• thu·ªôc ki·∫øn tr√∫c m√°y t√≠nh ho·∫∑c ki·∫øn tr√∫c b·ªô vi x·ª≠ l√Ω ho·∫∑c b·ªô bi√™n d·ªãch.
V√≠ d·ª• ki·∫øn tr√∫c m√°y t√≠nh 64 b√≠t th√¨ k√≠ch  sizeof(pointer) = 64 bit =8byte
Ki·∫øn tr√∫c STM32 c√≥ 32 b√≠t => sizeof(pointer) = 32 bit =4 byte.
K√≠ch th∆∞·ªõc c√°c ki·ªÉu d·ªØ li·ªáu:
#include<stdio.h>
#include<stdint.h>
#include<stdbool.h>

int main(int argc,char const * agrv[]){
    printf("%d byte\n", sizeof(int *));
    printf("%d byte\n", sizeof(double *));
    printf("%d byte\n", sizeof(float *));
    printf("%d byte\n", sizeof(uint8_t *));
    printf("%d byte\n", sizeof(int16_t *));
    printf("%d byte\n", sizeof(long *));
    printf("%d byte\n", sizeof(short *));
    printf("%d byte\n", sizeof(bool *));
    printf("%d byte\n", sizeof(int));
    printf("%d byte\n", sizeof(double));
    printf("%d byte\n", sizeof(float));
    printf("%d byte\n", sizeof(uint8_t));
    printf("%d byte\n", sizeof(int16_t));
    printf("%d byte\n", sizeof(long));
    printf("%d byte\n", sizeof(short));
    printf("%d byte\n", sizeof(bool));

    return 0;
}


1.VOID POINTER
Void Pointer C√≥ th·ªÉ tr·ªè ƒë·ªÉ b·∫•t k·ª≥ ƒë·ªãa ch·ªâ n√†o m√† kh√¥ng c·∫ßn quan t√¢m ki·ªÉu d·ªØ li·ªáu ƒë·ªãa ch·ªâ ƒë√≥.
Khi in ra th√¨ c·∫ßn √©p ki·ªÉu cho d·ªØ li·ªáu ƒë√≥.

2.FUNCTION POINTER
Application:
Ch∆∞∆°ng tr√¨nh bao gi·ªù c≈©ng ch·∫°y qua 2 qu√° tr√¨nh bi√™n d·ªãch v√† qu√° tr√¨nh ch·∫°y th·ª±c
-	Complier-time (4 b∆∞·ªõc trong b√†i complier)
-	Run-Time
Nh∆∞·ª£c ƒëi·ªÉm khi g·ªçi tr∆∞c ti·∫øp 1 h√†m function kh√¥ng qua con tr·ªè. Th√¨ n√≥ s·∫Ω x·∫£y ra ·ªü qu√° tr√¨nh bi√™n d·ªãch complier. Khi v√†o run-time th√¨ n√≥ s·∫Ω c·ªë ƒë·ªãnh h√†m ƒë√≥ lu√¥n kh√¥ng th·ªÉ thay ƒë·ªïi h√†m ƒë√≥ ƒë∆∞·ª£c n·ªØa.
∆Øu ƒëi·ªÉm khi g·ªçi h√†m th√¥ng qua con tr·ªè h√†m, N√≥ s·∫Ω x·∫£y ra ·ªü qu√° tr√¨nh Run-Time lu√¥n, b·ªè qua qu√° tr√¨nh complier. m·ªói th·ªùi ƒëi·ªÉm m√¨nh c√≥ th·ªÉ ch·ªçn m·ªôt h√†m t√πy √Ω. Qu√° tr√¨nh complier ch·ªâ th·ª±c hi·ªán duy nh·∫•t vi·ªác c·∫•p ƒë·ªãa ch·ªâ cho con tr·ªè h√†m.
2.3 Con tr·ªè h√†m ƒë√≥ng vai tr√≤ l√† tham s·ªë truy·ªÅn v√†o:
Khi b·∫°n ƒë√£ vi·∫øt r·∫•t nhi·ªÅu h√†m ·ªü tr√™n nh∆∞ t√≠nh t·ªïng, hi·ªáu, t√≠ch, so s√°nh t√™n, id, ƒëi·ªÉm‚Ä¶
B·∫°n build 1 h√†m kh√°c c·∫ßn s·ª≠ d·ª•ng nhi·ªÅu h√†m ·ªü tr√™n. Th√¨ b·∫°n d√πng 1 con tr·ªè h√†m l√†m ƒë·∫°i di·ªán ƒë·ªÉ g·ªçi b·∫•t k·ª≥ h√†m n√†o ra l√∫c c·∫ßn. trong h√†m ƒë√≥ t·∫°o con tr·ªè h√†m l√†m tham s·ªë truy·ªÅn v√†o.
Y√™u c·∫ßu v·ªõi con tr·ªè h√†m ƒë√≥ng vai tr√≤ tham s·ªë truy·ªÅn v√†o, th√¨ n√≥ ph·∫£i c√πng ki·ªÉu d·ªØ li·ªáu tr·∫£ v·ªÅ, v√† c√πng ki·ªÉu tham s·ªë truy·ªÅn v√†o h√†m.

4. B√ÄI T·∫¨P GI·∫¢I TH√çCH ƒêO·∫†N M√É
Note:
Return (const unsigned char*)str1 - (const unsigned char*)str2 
Gi·∫£ s·ª≠ ch√∫ng ta c√≥ hai chu·ªói k√Ω t·ª±:
const char *str1 = "apple";
const char *str2 = "apricot";
Khi g·ªçi h√†m stringCompare:
int result = stringCompare(str1, str2);
H√†m stringCompare s·∫Ω so s√°nh t·ª´ng k√Ω t·ª± c·ªßa str1 v√† str2:
str1[0] ('a') == str2[0] ('a') -> ti·∫øp t·ª•c
str1[1] ('p') == str2[1] ('p') -> ti·∫øp t·ª•c
str1[2] ('p') == str2[2] ('r') -> d·ª´ng l·∫°i v√¨ 'p' kh√°c 'r'
T·∫°i th·ªùi ƒëi·ªÉm n√†y, v√≤ng l·∫∑p while d·ª´ng l·∫°i v√† h√†m tr·∫£ v·ªÅ:
return (const unsigned char*)str1 - (const unsigned char*)str2;
Gi√° tr·ªã c·ªßa str1 v√† str2 t·∫°i th·ªùi ƒëi·ªÉm d·ª´ng l·∫°i l√†:
‚Ä¢  str1 tr·ªè t·ªõi k√Ω t·ª± 'p' trong "apple"
‚Ä¢  str2 tr·ªè t·ªõi k√Ω t·ª± 'r' trong "apricot"
Do ƒë√≥, (const unsigned char*)str1 - (const unsigned char*)str2 s·∫Ω kh√°c 0 v√¨ hai con tr·ªè n√†y tr·ªè t·ªõi c√°c ƒë·ªãa ch·ªâ kh√°c nhau trong b·ªô nh·ªõ.
K·∫øt qu·∫£ c·ªßa stringCompare("apple", "apricot") s·∫Ω l√† m·ªôt gi√° tr·ªã kh√°c 0, c·ª• th·ªÉ l√† m·ªôt gi√° tr·ªã √¢m v√¨ 'p' (112) nh·ªè h∆°n 'r' (114) trong b·∫£ng m√£ ASCII.
